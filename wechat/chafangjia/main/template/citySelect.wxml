<template name="citySelect">
    <scroll-view class="page" wx:if="{{isShow}}" scroll-y="{{true}}" scroll-into-view="{{active}}">
        <div class="his_tit">当前定位城市</div>
        <div class="city"><span class="f5" catchtap="reLocate"></span><span catchtap="cityPick" data-id="{{positionCity}}">{{positionCity}}</span>GPS定位</div>
        <block wx:if="{{cityHistory.history.length}}">
            <view class="his_tit" id="cityInfoHistory">最近访问的城市</view>
            <div class="hisCity clearfix">
                <a wx:for="{{cityHistory.history}}" wx:key="" wx:for-item="city" catchtap="cityPick" data-id="{{city}}">{{city}}</a>
            </div>
        </block>
        <block wx:for="{{category}}" wx:key="" wx:for-item="item">
            <block wx:if="{{item.cities.length}}">
                <view class="his_tit" id="{{item.key}}">{{item.name}}</view>
                <ul class="cities">
                    <li wx:for="{{item.cities}}" wx:key="" wx:for-item="city" catchtap="cityPick" data-id="{{city.cityname}}"><a>{{city.cityname}}</a></li>
                </ul>        
            </block> 
        </block>       
        <div class="hotBox">
            <ul>
                <li wx:if="{{cityHistory.history.length}}" bindtap="cityTab" data-id="cityInfoHistory"><a>历史</a></li>
                <block wx:for="{{category}}" wx:key="" wx:for-item="item">
                    <li bindtap="cityTab" wx:if="{{item.cities.length}}" data-id="{{item.key}}"><a>{{item.name}}</a></li>      
                </block>
            </ul>
        </div>
        <div class="page alertbg" wx:if="{{showCurrentLocation}}"> 
            <div class="pdt1">
                <div class="prompt w150">
                    <p>当前位置</p>
                    <p>{{location}}</p>
                </div>
            </div>
        </div>
    </scroll-view>
</template>