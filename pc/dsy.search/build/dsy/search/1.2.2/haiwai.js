define("dsy/search/1.2.2/haiwai",["dsy/search/1.2.2/interface"],function(t,e,r){"use strict";function s(){i.call(this),this.tag="haiwai",this.suffix="\u6d77\u5916",this.init()}var a=seajs.data.vars,i=t("dsy/search/1.2.2/interface");s.prototype=Object.create(i.prototype),s.prototype.constructor=s,s.prototype.init=function(){this.tpl=["<tr data-key=\"{{search_key}}\" data-search='{{search_object}}'>",'<th><p>{{suggest_word}}&nbsp;<span class="gray9">{{suggest_district}}</span></p></th>',"<td></td>","</tr>"].join(""),this.defaultText=a.searchDefaultText.haiwai,this.historyKey=this.getHistoryKey(this.tag)},s.prototype.formatSearch=function(t){var e=this;return{key:t.key||"",hrefUrl:t.hrefUrl||"",district:t.district||"",tag:e.tag,suffix:e.suffix}},s.prototype.getSuggestHtml=function(t){var e=this,r=t.split(","),s="";if(r.length)for(var a=0;a<r.length;a++){var i=r[a].split("^"),c=e.tpl,h=i[0],o=i[3],p=e.formatSearch({key:h,district:i[1],hrefUrl:o}),n=JSON.stringify(p);o&&e.urlBackup(h,n),c=c.replace("{{search_key}}",p.key),c=c.replace("{{search_object}}",n),c=c.replace("{{suggest_word}}",p.key),c=c.replace("{{suggest_district}}",p.district),s+=c}e.suggestHtml=s},s.prototype.searchByKey=function(t,e){var r=t,s=this.backup[r],a=null;s?a=JSON.parse(s):e&&(a=e);var i=a?a.hrefUrl:"";i=i?"http://world.fang.com/"+i:r&&r!==this.defaultText?"http://world.fang.com/house/kw"+r:"http://world.fang.com/",this.openUrl(r,i),a||(a={key:r,hrefUrl:i}),this.setHistory(r,a)},r.exports=new s});