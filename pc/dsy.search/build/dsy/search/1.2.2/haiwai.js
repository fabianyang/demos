define("dsy/search/1.2.2/haiwai",["dsy/search/1.2.2/interface"],function(t,e,r){"use strict";function s(){i.call(this),this.tag="haiwai",this.suffix="\u6d77\u5916",this.init()}var a=seajs.data.vars,i=t("dsy/search/1.2.2/interface");s.prototype=Object.create(i.prototype),s.prototype.constructor=s,s.prototype.init=function(){this.tpl=["<tr data-key=\"{{search_key}}\" data-search='{{search_object}}'>",'<th><p>{{suggest_word}}&nbsp;<span class="gray9">{{suggest_district}}</span></p></th>',"<td></td>","</tr>"].join(""),this.defaultText=a.searchDefaultText.haiwai,this.historyKey=this.getHistoryKey(this.tag)},s.prototype.formatSearch=function(t){var e=this;return{key:t.key||"",hrefUrl:t.hrefUrl||"",district:t.district||"",tag:e.tag,suffix:e.suffix}},s.prototype.getSuggestHtml=function(t){var e=this,r=t.split(","),s="";if(r.length)for(var a=0;a<r.length;a++){var i=r[a].split("^"),c=e.tpl,h=i[0],o=i[3],f=e.formatSearch({key:h,district:i[1],hrefUrl:o}),p=JSON.stringify(f);o&&e.urlBackup(h,p),c=c.replace("{{search_key}}",f.key),c=c.replace("{{search_object}}",p),c=c.replace("{{suggest_word}}",f.key),c=c.replace("{{suggest_district}}",f.district),s+=c}e.suggestHtml=s},s.prototype.searchByKey=function(t,e){var r=this,s=t,i=r.backup[s],c=null;c=i?JSON.parse(i):e||{new:!0,key:s,hrefUrl:""};var h=c.hrefUrl;h=h?"http://world.fang.com/"+h:s&&s!==r.defaultText?"http://world.fang.com/house/kw"+s:"http://world.fang.com/",a.aHref.href=h,a.aHref.click(),c.new&&(c.hrefUrl=h),r.setHistory(s,c)},r.exports=new s});